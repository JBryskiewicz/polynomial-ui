<main class="main">
  <section style="display: flex; align-items: center; justify-content: center">

    <div class="form-container">
      <h2>Welcome!</h2>
      <form [formGroup]="loginForm">

        <div>
          <mat-form-field style="width: 100%;">
            <input matInput formControlName="login" type="text" placeholder="login">
          </mat-form-field>
        </div>

        <div>
          <mat-form-field style="width: 100%;">
            <input matInput formControlName="password" type="password" placeholder="password">
          </mat-form-field>
        </div>

      </form>

      <p *ngIf="responseMsg.flag" [style]="'color: ' + responseMsg.color">{{ responseMsg.msg }}</p>

        <mat-checkbox color="accent" [ngModel]="isLoginView" (ngModelChange)="isLoginView = $event">
          <span style="color: #1a1a1a">I'm already registered</span>
        </mat-checkbox>

        <ng-container *ngIf="!isLoginView; else Login">
          <button
            mat-raised-button
            [disabled]="!loginForm.valid"
            (click)="handleRegister()"
          >Register
          </button>
        </ng-container>

        <ng-template #Login>
          <button
            mat-raised-button
            [disabled]="!loginForm.valid"
            (click)="handleLogin()"
          >Login
          </button>
        </ng-template>

    </div>

  </section>
</main>

